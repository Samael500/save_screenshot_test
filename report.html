<!doctype html>
<html>
    <head>
        <title>report</title>
        <script src="jquery.min.js"></script>
        <script src="Chart.min.js"></script>
    </head>
<body>
    <h2>Legend</h2>
    <div>
        <ul class="browsers">
        </ul>
    </div>

    <h2>Memory MIN</h2>
    <div>
        <canvas id="canvas-memory_min"></canvas>
    </div>
    <h2>Memory MAX</h2>
    <div>
        <canvas id="canvas-memory_max"></canvas>
    </div>
    <h2>Memory AVG</h2>
    <div>
        <canvas id="canvas-memory_avg"></canvas>
    </div>
    <h2>Time</h2>
    <div>
        <canvas id="canvas-time"></canvas>
    </div>


    <script>
        var randomScalingFactor = function(){ return Math.round(Math.random()*100)};

        var LABELS = ['google.com-240px', 'google.com-780px', 'google.com-1320px', 'google.com-1920px', 'www.facebook.com-240px', 'www.facebook.com-780px', 'www.facebook.com-1320px', 'www.facebook.com-1920px', 'habrahabr.ru-240px', 'habrahabr.ru-780px', 'habrahabr.ru-1320px', 'habrahabr.ru-1920px', 'wbtech.pro-240px', 'wbtech.pro-780px', 'wbtech.pro-1320px', 'wbtech.pro-1920px'];

        var FIREFOX = {
            label: "firefox",
            fillColor : "rgba(255,140,0,0.2)",
            strokeColor : "rgba(255,140,0,1)",
            pointColor : "rgba(255,140,0,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(255,140,0,1)",
        }

        var G_CHROME = {
            label: "g_chrome",
            fillColor : "rgba(211,211,211,0.2)",
            strokeColor : "rgba(211,211,211,1)",
            pointColor : "rgba(211,211,211,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(211,211,211,1)",
        }

        var CHROMIUM = {
            label: "chromium",
            fillColor : "rgba(0,127,255,0.2)",
            strokeColor : "rgba(0,127,255,1)",
            pointColor : "rgba(0,127,255,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(0,127,255,1)",
        }

        var SPLASH = {
            label: "splash",
            fillColor : "rgba(36,24,130,0.2)",
            strokeColor : "rgba(36,24,130,1)",
            pointColor : "rgba(36,24,130,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(36,24,130,1)",
        }

        var GHOST = {
            label: "ghost",
            fillColor : "rgba(61,61,61,0.2)",
            strokeColor : "rgba(61,61,61,1)",
            pointColor : "rgba(61,61,61,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(61,61,61,1)",
        }

        var ZOMBIE = {
            label: "zombie",
            fillColor : "rgba(0,100,0,0.2)",
            strokeColor : "rgba(0,100,0,1)",
            pointColor : "rgba(0,100,0,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(0,100,0,1)",
        }

        var PHANTOMJS = {
            label: "phantomjs",
            fillColor : "rgba(46,203,214,0.2)",
            strokeColor : "rgba(46,203,214,1)",
            pointColor : "rgba(46,203,214,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(46,203,214,1)",
        }

        var AWESOMIUM = {
            label: "awesomium",
            fillColor : "rgba(123,79,157,0.2)",
            strokeColor : "rgba(123,79,157,1)",
            pointColor : "rgba(123,79,157,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(123,79,157,1)",
        }

        var SLIMERJS = {
            label: "slimerjs",
            fillColor : "rgba(0,151,58,0.2)",
            strokeColor : "rgba(0,151,58,1)",
            pointColor : "rgba(0,151,58,1)",
            pointStrokeColor : "#fff",
            pointHighlightFill : "#fff",
            pointHighlightStroke : "rgba(0,151,58,1)",
        }

        var fox_min_mem = $.extend({}, FIREFOX);
        var fox_max_mem = $.extend({}, FIREFOX);
        var fox_avg_mem = $.extend({}, FIREFOX);
        var fox_time = $.extend({}, FIREFOX);
        fox_min_mem['data'] = ['22.20703125', '22.875', '22.875', '22.8359375', '22.8359375', '22.83203125', '22.83203125', '22.27734375', '19.67578125', '19.7890625', '20.71875', '22.3046875', '24.53125', '24.53125', '24.57421875', '24.6171875'];
        fox_max_mem['data'] = ['22.8828125', '22.8828125', '22.8828125', '22.87890625', '22.84375', '22.83984375', '22.84765625', '22.84765625', '52.8359375', '49.5625', '62.28125', '55.37109375', '24.5390625', '24.57421875', '24.671875', '24.66796875'];
        fox_avg_mem['data'] = ['22.8728643782', '22.8751120691', '22.8751196473', '22.8662671927', '22.8360037427', '22.835206878', '22.8360110273', '22.7790132414', '22.3575835348', '22.4064603177', '24.6547515513', '25.0341720305', '24.5314049923', '24.5355252605', '24.6212908949', '24.617435795'];
        fox_time['data'] = ['9.1734937191', '8.97431840897', '8.58688158989', '8.78942923546', '9.25527949333', '9.82952926159', '9.24138019085', '9.73307158947', '14.835120225', '14.520043993', '14.69781394', '16.6154721737', '8.5761162281', '9.27591354847', '8.89410583973', '8.26002757549'];

        var g_chrome_min_mem = $.extend({}, G_CHROME);
        var g_chrome_max_mem = $.extend({}, G_CHROME);
        var g_chrome_avg_mem = $.extend({}, G_CHROME);
        var g_chrome_time = $.extend({}, G_CHROME);
        g_chrome_min_mem['data'] = [];
        g_chrome_max_mem['data'] = [];
        g_chrome_avg_mem['data'] = [];
        g_chrome_time['data'] = [];

        var chromium_min_mem = $.extend({}, CHROMIUM);
        var chromium_max_mem = $.extend({}, CHROMIUM);
        var chromium_avg_mem = $.extend({}, CHROMIUM);
        var chromium_time = $.extend({}, CHROMIUM);
        chromium_min_mem['data'] = [];
        chromium_max_mem['data'] = [];
        chromium_avg_mem['data'] = [];
        chromium_time['data'] = [];

        var splash_min_mem = $.extend({}, SPLASH);
        var splash_max_mem = $.extend({}, SPLASH);
        var splash_avg_mem = $.extend({}, SPLASH);
        var splash_time = $.extend({}, SPLASH);
        splash_min_mem['data'] = [];
        splash_max_mem['data'] = [];
        splash_avg_mem['data'] = [];
        splash_time['data'] = [];

        var ghost_min_mem = $.extend({}, GHOST);
        var ghost_max_mem = $.extend({}, GHOST);
        var ghost_avg_mem = $.extend({}, GHOST);
        var ghost_time = $.extend({}, GHOST);
        ghost_min_mem['data'] = [];
        ghost_max_mem['data'] = [];
        ghost_avg_mem['data'] = [];
        ghost_time['data'] = [];

        var zombie_min_mem = $.extend({}, ZOMBIE);
        var zombie_max_mem = $.extend({}, ZOMBIE);
        var zombie_avg_mem = $.extend({}, ZOMBIE);
        var zombie_time = $.extend({}, ZOMBIE);
        zombie_min_mem['data'] = [];
        zombie_max_mem['data'] = [];
        zombie_avg_mem['data'] = [];
        zombie_time['data'] = [];

        var pantom_min_mem = $.extend({}, PHANTOMJS);
        var pantom_max_mem = $.extend({}, PHANTOMJS);
        var pantom_avg_mem = $.extend({}, PHANTOMJS);
        var pantom_time = $.extend({}, PHANTOMJS);
        pantom_min_mem['data'] = ['15.3828125', '16.69140625', '16.73828125', '16.75390625', '16.203125', '16.16796875', '16.171875', '16.17578125', '16.2109375', '19.03125', '19.51171875', '20.38671875', '22.20703125', '22.20703125', '22.20703125', '22.20703125'];
        pantom_max_mem['data'] = ['16.6875', '16.73828125', '16.75390625', '16.79296875', '17.1640625', '16.20703125', '17.65625', '16.3203125', '45.41015625', '45.28125', '51.0625', '53.4140625', '22.20703125', '22.20703125', '22.20703125', '22.20703125'];
        pantom_avg_mem['data'] = ['16.6101350679', '16.714255252', '16.7494591346', '16.7642164352', '16.4845660322', '16.1741576648', '16.1957022468', '16.2159699713', '21.2201796506', '21.3035358513', '22.2712951765', '22.7110117507', '22.20703125', '22.20703125', '22.20703125', '22.20703125'];
        pantom_time['data'] = ['3.13282935619', '2.91952059269', '2.49044356346', '2.43869194984', '3.40418593884', '3.05770056248', '2.86213612556', '2.96263980865', '6.14495592117', '5.966655159', '7.21891219616', '7.04087219238', '2.77911672592', '2.6915199995', '2.77043201923', '2.93073484898'];

        var awesomium_min_mem = $.extend({}, AWESOMIUM);
        var awesomium_max_mem = $.extend({}, AWESOMIUM);
        var awesomium_avg_mem = $.extend({}, AWESOMIUM);
        var awesomium_time = $.extend({}, AWESOMIUM);
        awesomium_min_mem['data'] = [];
        awesomium_max_mem['data'] = [];
        awesomium_avg_mem['data'] = [];
        awesomium_time['data'] = [];

        var slimerjs_min_mem = $.extend({}, SLIMERJS);
        var slimerjs_max_mem = $.extend({}, SLIMERJS);
        var slimerjs_avg_mem = $.extend({}, SLIMERJS);
        var slimerjs_time = $.extend({}, SLIMERJS);
        slimerjs_min_mem['data'] = [];
        slimerjs_max_mem['data'] = [];
        slimerjs_avg_mem['data'] = [];
        slimerjs_time['data'] = [];

        var memory_min_data = {
            labels : LABELS,
            datasets : [fox_min_mem, g_chrome_min_mem, chromium_min_mem, splash_min_mem, ghost_min_mem, zombie_min_mem, pantom_min_mem, awesomium_min_mem, slimerjs_min_mem]
        };

        var memory_max_data = {
            labels : LABELS,
            datasets : [fox_max_mem, g_chrome_max_mem, chromium_max_mem, splash_max_mem, ghost_max_mem, zombie_max_mem, pantom_max_mem, awesomium_max_mem, slimerjs_max_mem]
        };

        var memory_avg_data = {
            labels : LABELS,
            datasets : [fox_avg_mem, g_chrome_avg_mem, chromium_avg_mem, splash_avg_mem, ghost_avg_mem, zombie_avg_mem, pantom_avg_mem, awesomium_avg_mem, slimerjs_avg_mem]
        };

        var time_data = {
            labels : LABELS,
            datasets : [fox_time, g_chrome_time, chromium_time, splash_time, ghost_time, zombie_time, pantom_time, awesomium_time, slimerjs_time]
        };

        Chart.defaults.global.bezierCurve = false;
        Chart.defaults.global.responsive = true;
        Chart.defaults.global.animation = false;

        var browsers = [FIREFOX, G_CHROME, CHROMIUM, SPLASH, GHOST, ZOMBIE, PHANTOMJS, AWESOMIUM, SLIMERJS];

        var legends = function() {
            for (index in browsers){
                var browser = browsers[index];
                $('ul.browsers').append('<li class={class} />'.replace('{class}', browser['label']));
                var li = $('li.{class}'.replace('{class}', browser['label']));
                li.html('<span style="color:{color}"><strong>{text}</strong></span>'.replace(
                    '{color}', browser['strokeColor']).replace('{text}', browser['label'].toUpperCase()));
            } 
        };

        window.onload = function(){
            // set legends
            legends();
            // memory minimal usage
            var memory_min = document.getElementById("canvas-memory_min").getContext("2d");
            window.myLine = new Chart(memory_min).Line(memory_min_data);
            // memory maximal usage
            var memory_max = document.getElementById("canvas-memory_max").getContext("2d");
            window.myLine = new Chart(memory_max).Line(memory_max_data);
            // memory avg usage
            var memory_avg = document.getElementById("canvas-memory_avg").getContext("2d");
            window.myLine = new Chart(memory_avg).Line(memory_avg_data);
            // time usage
            var time_usage = document.getElementById("canvas-time").getContext("2d");
            window.myLine = new Chart(time_usage).Line(time_data);
        }
    </script>
</body>
</html>